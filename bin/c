#! /bin/bash -e

case "$(uname)" in
  Darwin) LL="ls -Gl";;
  *)      LL="ls -l --color";;
esac

if [ $# -eq 0 ]; then
  $LL "."; exit $?
fi

for path in "$@"; do
  if   [ -f "$path" ]; then
    cat "$path"
  elif [ -d "$path" ]; then
    $LL "$path"
  else
    echo "No such file: '$path'" >&2
  fi
done
